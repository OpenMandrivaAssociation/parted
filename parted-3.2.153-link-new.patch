diff -Nrup a/configure.ac b/configure.ac
--- a/configure.ac	2019-08-12 18:17:19.000000000 +0200
+++ b/configure.ac	2019-09-19 04:57:39.750140686 +0200
@@ -565,6 +565,7 @@ include/parted/Makefile
 libparted/Makefile
 libparted/labels/Makefile
 libparted/fs/Makefile
+libparted/fsresize/Makefile
 libparted/tests/Makefile
 libparted.pc
 libparted-fs-resize.pc
diff -Nrup a/libparted/fs/Makefile.am b/libparted/fs/Makefile.am
--- a/libparted/fs/Makefile.am	2019-08-12 18:17:19.000000000 +0200
+++ b/libparted/fs/Makefile.am	2019-09-19 04:58:46.406777402 +0200
@@ -51,69 +51,11 @@ libfs_la_SOURCES =		\
   xfs/xfs_sb.h			\
   xfs/xfs_types.h
 
-lib_LTLIBRARIES = libparted-fs-resize.la
-
 EXTRA_DIST =			\
   hfs/DOC			\
   hfs/HISTORY			\
   hfs/TODO
 
-# Set the shared library version, per Libtool's guidelines.
-# For details, see the "Updating library version information" section of
-# "info libtool".
-CURRENT = 0
-REVISION = 2
-AGE = 0
-
-sym_file = $(srcdir)/fsresize.sym
-libparted_fs_resize_la_LDFLAGS =		\
-  -Wl,--version-script=$(sym_file)		\
-  -version-info $(CURRENT):$(REVISION):$(AGE)
-EXTRA_DIST += fsresize.sym
-libparted_fs_resize_la_DEPENDENCIES = $(sym_file)
-
-libparted_fs_resize_la_SOURCES = \
-  r/filesys.c			\
-  r/fat/bootsector.c		\
-  r/fat/bootsector.h		\
-  r/fat/calc.c			\
-  r/fat/calc.h			\
-  r/fat/clstdup.c		\
-  r/fat/clstdup.h		\
-  r/fat/context.c		\
-  r/fat/context.h		\
-  r/fat/count.c			\
-  r/fat/count.h			\
-  r/fat/fat.c			\
-  r/fat/fat.h			\
-  r/fat/fatio.c			\
-  r/fat/fatio.h			\
-  r/fat/resize.c		\
-  r/fat/table.c			\
-  r/fat/table.h			\
-  r/fat/traverse.c		\
-  r/fat/traverse.h		\
-  r/hfs/advfs.c			\
-  r/hfs/advfs.h			\
-  r/hfs/advfs_plus.c		\
-  r/hfs/advfs_plus.h		\
-  r/hfs/cache.c			\
-  r/hfs/cache.h			\
-  r/hfs/file.c			\
-  r/hfs/file.h			\
-  r/hfs/file_plus.c		\
-  r/hfs/file_plus.h		\
-  r/hfs/hfs.c			\
-  r/hfs/hfs.h			\
-  r/hfs/journal.c		\
-  r/hfs/journal.h		\
-  r/hfs/probe.c			\
-  r/hfs/probe.h			\
-  r/hfs/reloc.c			\
-  r/hfs/reloc.h			\
-  r/hfs/reloc_plus.c		\
-  r/hfs/reloc_plus.h
-
 AM_CPPFLAGS = \
   -I$(top_srcdir)/libparted/labels	\
   $(partedincludedir)			\
diff -Nrup a/libparted/fsresize/Makefile.am b/libparted/fsresize/Makefile.am
--- a/libparted/fsresize/Makefile.am	1970-01-01 01:00:00.000000000 +0100
+++ b/libparted/fsresize/Makefile.am	2019-09-19 05:05:02.132359356 +0200
@@ -0,0 +1,72 @@
+# This file is part of GNU Parted
+# Copyright (C) 1999-2001, 2007, 2009-2012 Free Software Foundation, Inc.
+#
+# This file may be modified and/or distributed without restriction.
+
+partedincludedir = -I$(top_builddir)/include -I$(top_srcdir)/include
+
+AM_CFLAGS = $(WARN_CFLAGS)
+
+lib_LTLIBRARIES = libparted-fs-resize.la
+
+# Set the shared library version, per Libtool's guidelines.
+# For details, see the "Updating library version information" section of
+# "info libtool".
+CURRENT = 0
+REVISION = 2
+AGE = 0
+
+sym_file = $(srcdir)/fsresize.sym
+libparted_fs_resize_la_LDFLAGS =		\
+  -Wl,--version-script=$(sym_file)		\
+  -version-info $(CURRENT):$(REVISION):$(AGE)
+EXTRA_DIST = fsresize.sym
+libparted_fs_resize_la_DEPENDENCIES = $(sym_file)
+libparted_fs_resize_la_LIBADD = $(top_builddir)/libparted/libparted.la
+
+libparted_fs_resize_la_SOURCES = \
+  filesys.c			\
+  fat/bootsector.c		\
+  fat/bootsector.h		\
+  fat/calc.c			\
+  fat/calc.h			\
+  fat/clstdup.c		\
+  fat/clstdup.h		\
+  fat/context.c		\
+  fat/context.h		\
+  fat/count.c			\
+  fat/count.h			\
+  fat/fat.c			\
+  fat/fat.h			\
+  fat/fatio.c			\
+  fat/fatio.h			\
+  fat/resize.c		\
+  fat/table.c			\
+  fat/table.h			\
+  fat/traverse.c		\
+  fat/traverse.h		\
+  hfs/advfs.c			\
+  hfs/advfs.h			\
+  hfs/advfs_plus.c		\
+  hfs/advfs_plus.h		\
+  hfs/cache.c			\
+  hfs/cache.h			\
+  hfs/file.c			\
+  hfs/file.h			\
+  hfs/file_plus.c		\
+  hfs/file_plus.h		\
+  hfs/hfs.c			\
+  hfs/hfs.h			\
+  hfs/journal.c		\
+  hfs/journal.h		\
+  hfs/probe.c			\
+  hfs/probe.h			\
+  hfs/reloc.c			\
+  hfs/reloc.h			\
+  hfs/reloc_plus.c		\
+  hfs/reloc_plus.h
+
+INCLUDES = \
+  -I$(top_srcdir)/libparted/labels	\
+  $(partedincludedir)			\
+  $(INTLINCS)
diff -Nrup a/libparted/Makefile.am b/libparted/Makefile.am
--- a/libparted/Makefile.am	2019-08-12 18:17:19.000000000 +0200
+++ b/libparted/Makefile.am	2019-09-19 05:05:51.480827137 +0200
@@ -12,7 +12,7 @@ ARCH_SOURCE = arch/$(OS).c
 
 AM_CFLAGS = $(WARN_CFLAGS) $(WERROR_CFLAGS)
 
-SUBDIRS       = labels fs . $(SUBDIRS_CHECK)
+SUBDIRS       = labels fs . fsresize $(SUBDIRS_CHECK)
 
 
 partedincludedir = \
diff -Nrup a/tests/Makefile.am b/tests/Makefile.am
--- a/tests/Makefile.am	2019-07-17 00:37:01.000000000 +0200
+++ b/tests/Makefile.am	2019-09-19 05:06:50.465386653 +0200
@@ -99,7 +99,7 @@ EXTRA_DIST = \
 check_PROGRAMS = print-align print-flags print-max dup-clobber duplicate \
   fs-resize
 fs_resize_LDADD = \
-  $(top_builddir)/libparted/fs/libparted-fs-resize.la \
+  $(top_builddir)/libparted/fsresize/libparted-fs-resize.la \
   $(top_builddir)/libparted/libparted.la
 
 LDADD = \
